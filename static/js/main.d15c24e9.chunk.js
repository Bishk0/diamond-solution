(this["webpackJsonpdiamond-solution"]=this["webpackJsonpdiamond-solution"]||[]).push([[0],{22:function(e,t,a){e.exports=a(39)},27:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),i=a.n(o),c=(a(27),a(9)),s=a(10),l=a(12),u=a(11),m=a(8),p=a.n(m),v=a(14),d="https://api.themoviedb.org/3/",g="api_key=66568aed5bb1659219c997907013c53b",h=function(){var e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"movie/popular?").concat(g));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"movie/").concat(t,"?").concat(g));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"search/movie?").concat(g,"&query=").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=(a(29),a(13)),y=a(2),M=(a(30),a(31),function(e){var t=e.title,a=e.poster_path,n=e.vote_average,o=e.id,i=e.getMovieById,c="https://image.tmdb.org/t/p/w780".concat(a);return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{className:"img",src:a?c:"./img/posterplaceholder.jpg",alt:"".concat(t," poster"),"data-id":o,onClick:function(e){return i(e.target.dataset.id)}}),r.a.createElement("div",{className:"vote_average"},r.a.createElement("img",{className:"star",src:"./img/star-active.svg",alt:"golden star icon"}),r.a.createElement("span",null,n))))}),_=a(1),S=a.n(_),j=(S.a.shape({adult:S.a.bool,backdrop_path:S.a.string,genre_ids:S.a.array,id:S.a.number,original_language:S.a.string,original_title:S.a.string,overview:S.a.string,popularity:S.a.number,poster_path:S.a.string,release_date:S.a.string,title:S.a.string,video:S.a.bool,vote_average:S.a.number,vote_count:S.a.number}),S.a.shape({adult:S.a.bool,backdrop_path:S.a.string,belongs_to_collection:S.a.object,budget:S.a.number,genres:S.a.array,homepage:S.a.string,id:S.a.number,imdb_id:S.a.string,original_language:S.a.string,original_title:S.a.string,overview:S.a.string,popularity:S.a.number,poster_path:S.a.string,production_companies:S.a.array,production_countries:S.a.array,release_date:S.a.string,revenue:S.a.number,runtime:S.a.number,spoken_languages:S.a.array,status:S.a.string,tagline:S.a.string,title:S.a.string,video:S.a.bool,vote_average:S.a.number,vote_count:S.a.number}),a(34),function(e){var t=e.movie,a="https://image.tmdb.org/t/p/w780".concat(t.poster_path),n=t.genres.map((function(e){return e.name})).join(", ");return r.a.createElement("div",{className:"info-container"},r.a.createElement("img",{className:"img",src:t.poster_path?a:"./img/posterplaceholder.jpg",alt:"".concat(t.title," poster")}),r.a.createElement("div",{className:"text"},r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.overview),r.a.createElement("p",null,r.a.createElement("b",null,"Genres:")," ",n),r.a.createElement("p",null,r.a.createElement("b",null,"Country: "),t.production_countries[0]?t.production_countries[0].name:"No information"),r.a.createElement("p",null,r.a.createElement("b",null,"Language: "),t.spoken_languages[0]?t.spoken_languages[0].name:"No information"),r.a.createElement("p",null,r.a.createElement("b",null,"Runtime:")," ",t.runtime," minutes"),r.a.createElement("p",null,r.a.createElement("b",null,"Release date:")," ",t.release_date),r.a.createElement("p",null,r.a.createElement("b",null,"Budget:")," ",t.budget,"$"),r.a.createElement("p",null,r.a.createElement("b",null,"Revenue:")," ",t.revenue,"$")))}),N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).selectedMovieFromStorage=JSON.parse(localStorage.getItem("popularMovieInfo")),e.state={selectedMovie:e.selectedMovieFromStorage||null},e.getMovieById=function(t){f(t).then((function(t){return e.setState({selectedMovie:t})}))},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){window.scrollTo(0,0),this.state.selectedMovie&&localStorage.setItem("popularMovieInfo",JSON.stringify(this.state.selectedMovie))}},{key:"render",value:function(){var e=this,t=this.props.movies;return r.a.createElement("div",{className:"movies"},this.state.selectedMovie?r.a.createElement(j,{movie:this.state.selectedMovie}):null,t.map((function(t){return r.a.createElement(M,Object.assign({key:t.id},t,{getMovieById:e.getMovieById}))})))}}]),a}(n.Component),O=(a(35),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).selectedMovieFromStorage=JSON.parse(localStorage.getItem("searchMovieInfo")),e.moviesFromStorage=JSON.parse(localStorage.getItem("searchMovies")),e.state={search:"",movies:e.moviesFromStorage||[],selectedMovie:e.selectedMovieFromStorage||null},e.getMovies=function(){e.state.search&&b(e.state.search).then((function(t){localStorage.setItem("searchMovies",JSON.stringify(t.results)),e.setState({movies:t.results})}))},e.getMovieById=function(t){f(t).then((function(t){return e.setState({selectedMovie:t})}))},e.submitHandler=function(t){t.preventDefault(),e.getMovies(),e.setState({search:""})},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){window.scrollTo(0,0),this.state.selectedMovie&&localStorage.setItem("searchMovieInfo",JSON.stringify(this.state.selectedMovie))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"search",onSubmit:this.submitHandler},r.a.createElement("input",{type:"text",value:this.state.search,onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search movies"}),r.a.createElement("button",{type:"submit",disabled:!this.state.search},"Search")),r.a.createElement("div",{className:"movies"},this.state.selectedMovie?r.a.createElement(j,{movie:this.state.selectedMovie}):null,this.state.movies.length?this.state.movies.map((function(t){return r.a.createElement(M,Object.assign({key:t.id},t,{getMovieById:e.getMovieById}))})):r.a.createElement("h2",{className:"title"},"No movies found, please try again")))}}]),a}(n.Component)),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;h().then((function(t){return e.setState({movies:t.results})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"nav"},r.a.createElement(E.b,{to:{pathname:"/diamond-solution/popular"}},"Popular"),r.a.createElement(E.b,{to:{pathname:"/diamond-solution/search"}},"Search")),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/diamond-solution/popular",render:function(){return r.a.createElement(N,{movies:e.state.movies})}}),r.a.createElement(y.b,{path:"/diamond-solution/search",component:O}),r.a.createElement(y.a,{from:"/",to:"/diamond-solution/popular"}),r.a.createElement(y.b,{render:function(){return r.a.createElement("h1",{style:{textAlign:"center",color:"indianred"}},"Error 404 page not found")}})))}}]),a}(n.Component);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,null,r.a.createElement(k,null))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d15c24e9.chunk.js.map